function [bestx,index,x_min,x_max]=test(h,D)
X1=D(1:15,:);
X2=D(33:62,:);
trnX = [X1;X2];
% trnX=stdTrans(trnX);%标准化变换
Y1 = ones(15,1);
Y2 = -ones(30,1);
trnY = [Y1;Y2];
C=20000;
ker='rfb';%erfb与之运行结果一样
[nsv alpha bias] = svc(trnX,trnY,ker,C);%w即alpha,bias即b
% [h_min,err_min alpha bias]=RFE_Relief(D,h)
X3=D(16:22,:);
X4=D(23:32,:);
tstX = [X3;X4];
Y3 = ones(7,1);
Y4 = -ones(10,1);
tstY = [Y3;Y4];

index=0;
for i=1:1:length(h)
    if strcmp(h(i),'Hsa.1207')%'Hsa.6814' 'Hsa.549' 'Hsa.37937'
        A=trnX(:,i);
        x_min=min(A);
        x_max=max(A);
        index=i;
        break;
    end
end
error1=0;
error2=0;
error=45;
error1_a=[];
error2_a=[];
error_a=[];
bestx=x_min;
f=inf;
kk=1;

for x=x_min:0.01:x_max
    trnX(:,index)=x*ones(45,1);

    error1 = svcerror([X1;X2],trnY,trnX(1:15,:),Y1,ker,alpha,bias);
%     error1_a(kk)=error1;
%     error2_a(kk)=error2;
    error_a(kk)=error;
    kk=kk+1;
    if error_t<error
        error=error_t;
        bestx=x;
    end
end


% for x=x_min:0.01:x_max
%     trnX(:,index)=x*ones(45,1);
%     %trnX=stdTrans(trnX);%标准化变换
%     %     error1=0;
%     %     error2=0;
%     %     for k=1:1:15
%     n = size(trnX,1);
%     m = size(trnX,1);
%     H = zeros(m,n);
%     for i=1:m
%         for j=1:n
%             H(i,j) = trnY(j)*svkernel(ker,trnX(i,:),trnX(j,:));
%         end
%     end
%
%     s=length(find((sign(H*alpha + bias)==trnY)==0));
%     d=(sign(H*alpha + bias)==trnY);
%     error1=length(find(d(1:15)==0))
%     error2=length(find(d(16:end)==0))
%     error1_a(kk)=error1;
%     error2_a(kk)=error2;
%     error_a(kk)=error1+error2;
%     kk=kk+1;
%
%     if s<f
%         bestx=x;
%         f=s;
%         d=(sign(H*alpha + bias)==trnY);
%         error1=length(find(d(1:15)==0));
%         error2=length(find(d(16:end)==0));
%     end
%     %     end
%
%     %     for j=1:1:30
%     %         if alpha*X2(j,:)+bias>0
%     %             error2=error2+1;
%     %         end
%     %         n = size(trnX,1);
%     %         m = size(trnX,1);
%     %         H = zeros(m,n);
%     %         for i=1:m
%     %             for j=1:n
%     %                 H(i,j) = trnY(j)*svkernel(ker,trnX(i,:),trnX(j,:));
%     %             end
%     %         end
%     %
%     %         s=length(find((sign(H*alpha + bias)==trnY)==0));
%     %         if s<f
%     %             bestx=x;
%     %             f=s
%     %         end
%     %     end
%     %     if error1+error2<error
%     %         error=error1+error2;
%     %         bestx=x;
%     %         flag=1;
%     %
%     %     end
% end
bestx
error1
error2
plot(x_min:0.01:x_max,error1_a,x_min:0.01:x_max,error2_a,x_min:0.01:x_max,error_a);
% if x_min==bestx
%     error=45;
%     for x=x_max:-0.1:x_min
%         trnX(:,index)=x*ones(45,1);
%         trnX=stdTrans(trnX);%标准化变换
%         error1=0;
%         error2=0;
%         for i=1:1:15
%             if alpha*X1(i,:)+bias<0
%                 error1=error1+1;
%             end
%         end
%         for j=1:1:30
%             if alpha*X2(j,:)+bias>0
%                 error2=error2+1;
%             end
%         end
%         if error1+error2<error
%             error=error1+error2;
%             bestx=x;
%         end
%     end
% end
% bestx
%
%
%
%
%



