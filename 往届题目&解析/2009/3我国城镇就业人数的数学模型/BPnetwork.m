clc;
p = [0	0	0	0	0	0;...
0.020046711	0.018946439	0.012327416	0.02144776	0.09072642	0.009823744;...
0.053758364	0.045750002	0.035194773	0.051358097	0.17280643	0.021351075;...
0.109143713	0.101403786	0.075875247	0.089234699	0.254764659	0.050530867;...
0.193408342	0.175329716	0.14780572	0.15236398	0.335931316	0.087822389;...
0.27413409	0.260098681	0.207100592	0.208603953	0.413322779	0.12124899;...
0.338616049	0.340714886	0.250862919	0.258168094	0.490531572	0.157357564;...
0.384896485	0.389846543	0.26688856	0.312382834	0.565852767	0.199372121;...
0.415184976	0.425942439	0.329080375	0.365567351	0.634963161	0.250094581;...
0.444395324	0.464494323	0.382519724	0.414320125	0.697375632	0.327557997;...
0.500739471	0.523224037	0.445697732	0.485984186	0.755647567	0.415049718;...
0.562310115	0.590308527	0.538091716	0.56959812	0.809474517	0.512826174;...
0.624873435	0.676599322	0.633752465	0.651578088	0.859769835	0.614962578;...
0.717057872	0.750999125	0.733481262	0.741975227	0.906898861	0.699146651;...
0.861598649	0.869632196	0.855769231	0.868655754	0.953236315	0.823534065;...
1	1	1	1	1	1]';
t = [0 0.041205053 0.079689018 0.118658892 0.156656948 0.194266278 0.279980564 0.36345967 0.444606414 0.521963071 0.593780369 0.670456754 0.752089407 0.835568513 0.916909621 1];

net = newff(minmax(p),[5 1],{'tansig','purelin'},'trainbfg');
net.trainParam.show = 5;
net.trainParam.epchos = 500;
net.trainParam.goal = 0.0001;
net.trainParam.lr=2;
inputWeights=net.IW{1,1}
[net,tr] = train(net,p,t);
MSE=mse(t-sim(net,p))
%info = trainbfg(code)
p1 = [1.170199049	1.156826578	1.162536982	1.167127499	1.042136029	1.210474771]';
p2=[1.393343541	1.374230805	1.404832347	1.394120264	1.083602265	1.513866155 ]';


goal=[p1,p2];
future = [1.414779595	2.125747285	2.443478797	1.697465349	1.191680083	2.363832554;
1.817148844	2.726922626	3.397312623	2.093649306	1.271869086	2.812597073]';
a = sim(net,future)
    tt=1:1:size(p,2);
    figure()
    plot(tt,t,'+',tt,sim(net,p))
    figure()
    plot(tt,t-sim(net,p))
  %  figure()
   % plotpc(net.iw{1},net.b{1});
