P=[0.2694 	0.2344 	0.5212 	0.2725 	0.2457 	0.1896; 
0.0057 	0.2114 	0.7161 	0.1233 	0.2176 	0.1155;
0.1031 	0.0541 	0.1028 	0.0308 	0.0529 	0.0415; 
0.0774 	0.0581 	0.1077 	0.0279 	0.0572 	0.0448; 
0.1068 	0.0345 	0.0571 	0.0157 	0.0330 	0.0277; 
0.0000 	0.0000 	0.0000 	0.0000 	0.0000 	0.0000; 
0.6496 	0.4459 	0.5152 	0.1606 	0.4390 	0.4279; 
0.2374 	0.1545 	0.2064 	0.0749 	0.1498 	0.1314; 
0.1577 	0.1293 	0.2088 	0.0840 	0.1278 	0.1015; 
0.0045 	0.0960 	0.3238 	0.0299 	0.0956 	0.0349; 
1.0000 	0.4775 	0.5454 	0.2654 	0.4655 	0.4614; 
0.5287 	0.1935 	0.2512 	0.0809 	0.1878 	0.1786; 
0.2663 	0.1311 	0.1641 	0.0482 	0.1271 	0.1233; 
0.2807 	0.0895 	0.1141 	0.0350 	0.0863 	0.0820; 
0.1465 	0.0616 	0.0715 	0.0296 	0.0603 	0.0566; 
0.8696 	0.3965 	0.5382 	0.2549 	0.3840 	0.3556; 
0.2559 	0.8592 	1.0000 	0.5702 	0.8953 	0.8837; 
0.2394 	0.4596 	0.4969 	0.2142 	0.4591 	0.4517; 
0.6448 	0.2916 	0.3340 	0.1418 	0.2844 	0.2766; 
0.9585 	0.4694 	0.5669 	0.2850 	0.4571 	0.4260; 
0.4799 	0.2698 	0.3403 	0.1892 	0.2629 	0.2404; 
0.5044 	0.6920 	0.7742 	0.5097 	0.6827 	0.6416; 
0.6919 	0.6123 	0.6720 	0.3212 	0.5949 	0.5672; 
0.4014 	1.0000 	0.8798 	0.4850 	1.0000 	1.0000; 
0.1614 	0.1096 	0.1288 	0.0537 	0.1076 	0.1009; 
0.2292 	0.0861 	0.1016 	0.0382 	0.0843 	0.0812; 
0.0225 	0.0171 	0.0176 	0.0057 	0.0172 	0.0171; 
0.1987 	0.6746 	0.9802 	1.0000 	0.6724 	0.6498; 
0.0203 	0.0249 	0.0337 	0.0295 	0.0289 	0.0278; 
0.0613 	0.0200 	0.0403 	0.0636 	0.0189 	0.0153 ]';
T=[0.7403	0.1444	0.0781	0.0876	0.0741	0	0.4226	0.2153	0.161	0.0293	1	0.6612	0.4101	0.1692	0.1454 0.7159	0.4859	0.2492	0.4365	0.6716	0.4093	0.6523	0.7171	0.9388	0.1705	0.2183	0.0102	0.4101	0.025	0.0657];
% 测试向量P_test和实际输出T_test
P_test=[0.2995	0.161	0.1932	0.1156	0.1575	0.1495	;
0.1814	0.0537	0.0765	0.0373	0.052	0.0475	;
0.1457	0.0532	0.0612	0.0235	0.0518	0.0499	;
0.0762	0.455	0.3436	0.1709	0.46	0.4722	;
0.8231	0.6831	0.8149	0.3982	0.6787	0.6319	;
0.2052	0.162	0.2536	0.1085	0.1527	0.1165	;
0.0549	0.1048	0.0895	0.0677	0.1018	0.103	;
0.1316	0.088	0.1061	0.0516	0.0864	0.0827	;
0.5504	0.2068	0.237	0.1077	0.2022	0.1951		]';
T_test=[0.2205	0.1152	0.1902	0.1284	0.6071	0.219	0.0719	0.1394	0.3575];
threshold=[0 1;0 1;0 1;0 1;0 1;0 1];
a=[10 11 12 13];
for i=1:4
    net=newff(threshold,[a(i),1],{'tansig','logsig'},'traingdx');
    net.trainParam.epochs=1000;
    net.trainParam.goal=0.0005;
    % init函数用于将网络初始化
    net=init(net);
    net=train(net,P,T);
    Y(i,:)=sim(net,P_test);
end
figure;
%绘制误差曲线
%中间层神经元个数为5
plot(1:9,Y(1,:)-T_test);
hold on;
%中间层神经元个数为10
plot(1:9,Y(2,:)-T_test,'+');
hold on;
%中间层神经元个数为15
plot(1:9,Y(3,:)-T_test,'--');
hold on;
%中间层神经元个数为20
plot(1:9,Y(4,:)-T_test,'*');
hold off;